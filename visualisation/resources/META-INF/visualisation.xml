<idea-plugin allow-bundled-update="true">
  <depends>com.intellij.platform.images</depends>
  <extensionPoints>
    <extensionPoint qualifiedName="com.intellij.datavis.inlays.inlayDescriptorProvider"
                    interface="org.intellij.datavis.r.inlays.InlayDescriptorProvider"
                    dynamic="true"/>
    <extensionPoint qualifiedName="com.intellij.datavis.r.inlays.components.graphicsManagerProvider"
                    interface="org.intellij.datavis.r.inlays.components.GraphicsManagerProvider"
                    dynamic="true"/>
    <extensionPoint qualifiedName="com.intellij.datavis.inlays.components.inlayOutputProvider"
                    interface="org.intellij.datavis.r.inlays.components.InlayOutputProvider"
                    dynamic="true"/>
    <extensionPoint qualifiedName="org.intellij.datavis.r.inlays.visualisation.uiCustomizer"
                    interface="org.intellij.datavis.r.ui.UiCustomizer"
                    dynamic="true"/>
    <extensionPoint qualifiedName="org.jetbrains.plugins.notebooks.notebookCellTypeAwareLexerProvider"
                    beanClass="com.intellij.lang.LanguageExtensionPoint" dynamic="true">
      <with attribute="implementationClass" implements="org.jetbrains.plugins.notebooks.editor.NotebookCellTypeAwareLexerProvider"/>
    </extensionPoint>

    <extensionPoint qualifiedName="org.jetbrains.plugins.notebooks.notebookCellInlayController"
                    interface="org.jetbrains.plugins.notebooks.editor.NotebookCellInlayController$Factory"
                    dynamic="true"/>
    <extensionPoint qualifiedName="org.jetbrains.plugins.notebooks.notebookCellGutterController"
                    interface="org.jetbrains.plugins.notebooks.editor.NotebookCellGutterController"
                    dynamic="true"/>
  </extensionPoints>

  <actions>
    <group id="org.intellij.datavis.r.inlays.components.InlayOutputToolbarActions">
      <action id="org.intellij.datavis.r.inlays.components.ClearOutputAction"
              class="org.intellij.datavis.r.inlays.components.ClearOutputAction"
              description="Clear output"
              text="Clear"
              icon="AllIcons.Actions.GC"/>
      <action id="org.intellij.datavis.r.inlays.components.SaveOutputAction"
              class="org.intellij.datavis.r.inlays.components.SaveOutputAction"
              description="Save as"
              text="Save As"
              icon="AllIcons.Actions.MenuSaveall"/>
      <action id="org.intellij.datavis.r.inlays.components.CopyImageToClipboardAction"
              class="org.intellij.datavis.r.inlays.components.CopyImageToClipboardAction"
              description="Copy image to clipboard"
              text="Copy to Clipboard"
              icon="AllIcons.Actions.Copy"/>
    </group>
  </actions>

  <extensions defaultExtensionNs="com.intellij">
    <registryKey key="pycharm.ds.notebook.editor.ui.binary.search.threshold"
                 description="Threshold for size sorted lists in UI components when binary search should be preferred instead of linear."
                 defaultValue="100"
                 restartRequired="false"/>

    <notificationGroup displayType="BALLOON" id="Notebook Table" bundle="messages.VisualizationBundle" key="inlay.output.table.notification.group.name"/>
    <notificationGroup id="InlayTable" displayType="BALLOON"/>
    <editorFactoryListener id="org.intellij.datavis.r.inlays.InlaysManager" implementation="org.intellij.datavis.r.inlays.InlaysManager"/>
  </extensions>

  <extensions defaultExtensionNs="org.intellij.datavis.r.inlays.visualisation">
    <uiCustomizer implementation="org.intellij.datavis.r.ui.DefaultUiCustomizer"/>
  </extensions>

</idea-plugin>
